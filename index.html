<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no">
    <title>Ø±Ø­Ù„Ø© Ø±Ø§Ø¦Ø¯ Ø§Ù„ÙØ¶Ø§Ø¡</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #1b203a;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }
        
        .loading {
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(0, 212, 255, 0.3);
            border-top: 3px solid #00d4ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading">
        <div class="spinner"></div>
        <h2>ğŸš€ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>
        <p>Ø±Ø­Ù„Ø© Ø±Ø§Ø¦Ø¯ Ø§Ù„ÙØ¶Ø§Ø¡</p>
    </div>

    <!-- Ø¹Ù†ØµØ± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ -->
    <audio id="backgroundMusic" loop autoplay>
        <source src="images/Samud.m4a" type="audio/mp4">
        <source src="images/Samud.m4a" type="audio/mpeg">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰.
    </audio>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
        let musicPlaying = false;
        let backgroundMusic = null;

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        function autoPlayMusic() {
            if (!backgroundMusic) {
                backgroundMusic = document.getElementById('backgroundMusic');
            }
            
            // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            try {
                backgroundMusic.volume = 0.3; // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø£ÙƒØ«Ø±
                backgroundMusic.muted = false;
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
                const playPromise = backgroundMusic.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        musicPlaying = true;
                        console.log('ØªÙ… ØªØ´ØºÙŠÙ„ Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„ØµÙ…ÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
                    }).catch(error => {
                        console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:', error);
                    });
                }
            } catch (error) {
                console.log('Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰:', error);
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø£ÙˆÙ„
        function enableMusicOnInteraction() {
            if (!musicPlaying && backgroundMusic) {
                autoPlayMusic();
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙÙˆØ± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            autoPlayMusic();
        });

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø£ÙˆÙ„
        document.addEventListener('click', enableMusicOnInteraction, { once: true });
        document.addEventListener('touchstart', enableMusicOnInteraction, { once: true });
        document.addEventListener('keydown', enableMusicOnInteraction, { once: true });
        document.addEventListener('mousemove', enableMusicOnInteraction, { once: true });
        document.addEventListener('scroll', enableMusicOnInteraction, { once: true });
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù…Ø¹ ØªØ£Ø®ÙŠØ±
        setTimeout(() => {
            autoPlayMusic();
        }, 500);
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
        setTimeout(() => {
            if (!musicPlaying) {
                autoPlayMusic();
            }
        }, 2000);

        // ØªÙˆØ¬ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        setTimeout(() => {
            window.location.href = 'home.html';
        }, 1500);
    </script>
</body>
</html>